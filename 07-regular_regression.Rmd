# 正则表达式 {#regularexpression}

正则表达式是文本处理中经常用到的方法.在R中,正则表达式跟其他语言基本一致,要写成文本的格式,也就是需要使用双引号或者单引号括起来.

<!-- ## 元字符 -->

<!-- 在正则表达式中有一些字符是有特殊含义的,比如点(.),如果只写点,它代表任意字符,这些称之为元字符.正则表达式中就有很多这样元字符,总结如下. -->

<!-- |正则表达式|含义           | -->
<!-- |----------|---------------| -->
<!-- |.         |任意字符| -->
<!-- |^         |匹配字符的开始位置| -->
<!-- |$         |匹配字符的结束位置| -->
<!-- |$         |匹配字符的结束位置| -->

## 匹配(match)

有一些特殊含义的匹配,在正则表达式有固定表达方式,比如任意一个数字,任意字母等.

|正则表达式|含义           |
|----------|---------------|
|`\\.`         |匹配点.|
|`\\n`         |匹配换行符|
|`\\t`         |匹配tab|
|`\\s`         |匹配空格(white space)|
|`\\d`         |匹配任意数字|
|`\\w`         |匹配任意字符|
|`\\b`         |匹配所有字符的边界|
|`[:digit:]`   |任意数字|
|`[:alpha:]`   |任意字母|
|`[:lower:]`   |任意小写字母|
|`[:upper:]`   |任意大写字母|
|`[:alnum:]`   |任意数字和字母|
|`[:punct:]`   |任意标点符号|
|`[:graph:]`   |任意数字字母或者标点符号|
|`[:space:]`   |空格|
|`[:blank:]`   |空格和tab,但是不包括新行|

## 替换 (Alternates)

|正则表达式|含义           |
|----------|---------------|
|`a|b`         |或者,a或者b|
|`[abc]`       |abc中的任意一个|
|`[^abc]`      |除abc之外的任意字符|
|`[a-c]`       |range,abc|


## 锚点(anchors)

### 以固定要求开头

以固定要求开头的正则表达式是`^`,比如我们要查找那些以字母a开头的字符串,就可以写作:

```markdonw
'^a'
```

在R语言中:

```{r}
grep(pattern = "^a", x = c("abc", "bcd", "cde", "ade"))
```

### 以固定要求结尾

以固定要求结尾的正则表达式是`$`,比如我们要查找那些以字母a结尾的字符串,就可以写作:

```markdonw
'a$'
```

在R语言中:

```{r}
grep(pattern = "a$", x = c("abc", "bcd", "cde", "ada"))
```

## 数量(Quantifiers)

正则表达式中经常需要有一些表达数量的内容,比如重复1次,重复多于一次等等.一般是使用一些特殊字符在某个要重复的内容之后.

|正则表达式|含义           |
|----------|---------------|
|?         |重复0次或者一次|
|*         |0次或者多次    |
|+         |1次或者多次    |
|{n}         |正好n次    |
|{n,}         |n次或者多于n次|
|{n,m}         |大于等于n次小于等于m次|


---

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://r-cookbook-shen.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            