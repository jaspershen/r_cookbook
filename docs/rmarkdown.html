<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Rmarkdown | R cookbook from Xiaotao Shen</title>
  <meta name="description" content="记录所有跟R语言有关的内容" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Rmarkdown | R cookbook from Xiaotao Shen" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="记录所有跟R语言有关的内容" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Rmarkdown | R cookbook from Xiaotao Shen" />
  
  <meta name="twitter:description" content="记录所有跟R语言有关的内容" />
  

<meta name="author" content="Xiaotao Shen" />


<meta name="date" content="2020-03-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="markdown.html"/>
<link rel="next" href="git.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.12/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R cookbook of Xiaotao Shen</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 前言</a></li>
<li class="chapter" data-level="2" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>2</b> Markdown</a><ul>
<li class="chapter" data-level="2.1" data-path="markdown.html"><a href="markdown.html#markdown语法"><i class="fa fa-check"></i><b>2.1</b> Markdown语法</a></li>
<li class="chapter" data-level="2.2" data-path="markdown.html"><a href="markdown.html#标题-header"><i class="fa fa-check"></i><b>2.2</b> 标题 (Header)</a></li>
<li class="chapter" data-level="2.3" data-path="markdown.html"><a href="markdown.html#图片-image"><i class="fa fa-check"></i><b>2.3</b> 图片 (Image)</a></li>
<li class="chapter" data-level="2.4" data-path="markdown.html"><a href="markdown.html#链接-links"><i class="fa fa-check"></i><b>2.4</b> 链接 (Links)</a></li>
<li class="chapter" data-level="2.5" data-path="markdown.html"><a href="markdown.html#强调-emphasize"><i class="fa fa-check"></i><b>2.5</b> 强调 (Emphasize)</a></li>
<li class="chapter" data-level="2.6" data-path="markdown.html"><a href="markdown.html#引用blockquotes"><i class="fa fa-check"></i><b>2.6</b> 引用(Blockquotes)</a></li>
<li class="chapter" data-level="2.7" data-path="markdown.html"><a href="markdown.html#代码块-code-chunks"><i class="fa fa-check"></i><b>2.7</b> 代码块 (Code chunks)</a></li>
<li class="chapter" data-level="2.8" data-path="markdown.html"><a href="markdown.html#水平线-horizontal-rule"><i class="fa fa-check"></i><b>2.8</b> 水平线 (Horizontal rule)</a></li>
<li class="chapter" data-level="2.9" data-path="markdown.html"><a href="markdown.html#列表-list"><i class="fa fa-check"></i><b>2.9</b> 列表 (List)</a></li>
<li class="chapter" data-level="2.10" data-path="markdown.html"><a href="markdown.html#表格-tables"><i class="fa fa-check"></i><b>2.10</b> 表格 (Tables)</a></li>
<li class="chapter" data-level="2.11" data-path="markdown.html"><a href="markdown.html#段落"><i class="fa fa-check"></i><b>2.11</b> 段落</a></li>
<li class="chapter" data-level="2.12" data-path="markdown.html"><a href="markdown.html#插入icon"><i class="fa fa-check"></i><b>2.12</b> 插入icon</a></li>
<li class="chapter" data-level="2.13" data-path="markdown.html"><a href="markdown.html#数学公式-equations"><i class="fa fa-check"></i><b>2.13</b> 数学公式 (Equations)</a><ul>
<li class="chapter" data-level="2.13.1" data-path="markdown.html"><a href="markdown.html#行内和行外"><i class="fa fa-check"></i><b>2.13.1</b> 行内和行外</a></li>
<li class="chapter" data-level="2.13.2" data-path="markdown.html"><a href="markdown.html#上标和下标"><i class="fa fa-check"></i><b>2.13.2</b> 上标和下标</a></li>
<li class="chapter" data-level="2.13.3" data-path="markdown.html"><a href="markdown.html#占位符"><i class="fa fa-check"></i><b>2.13.3</b> 占位符</a></li>
<li class="chapter" data-level="2.13.4" data-path="markdown.html"><a href="markdown.html#四则运算"><i class="fa fa-check"></i><b>2.13.4</b> 四则运算</a></li>
<li class="chapter" data-level="2.13.5" data-path="markdown.html"><a href="markdown.html#集合运算"><i class="fa fa-check"></i><b>2.13.5</b> 集合运算</a></li>
<li class="chapter" data-level="2.13.6" data-path="markdown.html"><a href="markdown.html#数学符号"><i class="fa fa-check"></i><b>2.13.6</b> 数学符号</a></li>
<li class="chapter" data-level="2.13.7" data-path="markdown.html"><a href="markdown.html#希腊字母"><i class="fa fa-check"></i><b>2.13.7</b> 希腊字母</a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="markdown.html"><a href="markdown.html#视频-video和音乐-music"><i class="fa fa-check"></i><b>2.14</b> 视频 (Video)和音乐 (music)</a></li>
<li class="chapter" data-level="2.15" data-path="markdown.html"><a href="markdown.html#markdown编辑器"><i class="fa fa-check"></i><b>2.15</b> Markdown编辑器</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>3</b> Rmarkdown</a><ul>
<li class="chapter" data-level="3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#安装"><i class="fa fa-check"></i><b>3.1</b> 安装</a></li>
<li class="chapter" data-level="3.2" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown结构"><i class="fa fa-check"></i><b>3.2</b> Rmarkdown结构</a></li>
<li class="chapter" data-level="3.3" data-path="rmarkdown.html"><a href="rmarkdown.html#yaml"><i class="fa fa-check"></i><b>3.3</b> YAML</a></li>
<li class="chapter" data-level="3.4" data-path="rmarkdown.html"><a href="rmarkdown.html#r代码块"><i class="fa fa-check"></i><b>3.4</b> R代码块</a></li>
<li class="chapter" data-level="3.5" data-path="rmarkdown.html"><a href="rmarkdown.html#代码块参数-chunk-options"><i class="fa fa-check"></i><b>3.5</b> 代码块参数 (Chunk options)</a><ul>
<li class="chapter" data-level="3.5.1" data-path="rmarkdown.html"><a href="rmarkdown.html#代码是否执行"><i class="fa fa-check"></i><b>3.5.1</b> 代码是否执行</a></li>
<li class="chapter" data-level="3.5.2" data-path="rmarkdown.html"><a href="rmarkdown.html#代码控制-code-decoration"><i class="fa fa-check"></i><b>3.5.2</b> 代码控制 (code decoration)</a></li>
<li class="chapter" data-level="3.5.3" data-path="rmarkdown.html"><a href="rmarkdown.html#缓冲-cache"><i class="fa fa-check"></i><b>3.5.3</b> 缓冲 (cache)</a></li>
<li class="chapter" data-level="3.5.4" data-path="rmarkdown.html"><a href="rmarkdown.html#图像控制plot"><i class="fa fa-check"></i><b>3.5.4</b> 图像控制(plot)</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="rmarkdown.html"><a href="rmarkdown.html#全局代码块参数"><i class="fa fa-check"></i><b>3.6</b> 全局代码块参数</a></li>
<li class="chapter" data-level="3.7" data-path="rmarkdown.html"><a href="rmarkdown.html#具体问题的cookbook"><i class="fa fa-check"></i><b>3.7</b> 具体问题的cookbook</a></li>
<li class="chapter" data-level="3.8" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown特有语法"><i class="fa fa-check"></i><b>3.8</b> Rmarkdown特有语法</a><ul>
<li class="chapter" data-level="3.8.1" data-path="rmarkdown.html"><a href="rmarkdown.html#图片-image-1"><i class="fa fa-check"></i><b>3.8.1</b> 图片 (image)</a></li>
<li class="chapter" data-level="3.8.2" data-path="rmarkdown.html"><a href="rmarkdown.html#表格-table"><i class="fa fa-check"></i><b>3.8.2</b> 表格 (Table)</a></li>
<li class="chapter" data-level="3.8.3" data-path="rmarkdown.html"><a href="rmarkdown.html#地图-map"><i class="fa fa-check"></i><b>3.8.3</b> 地图 (map)</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="rmarkdown.html"><a href="rmarkdown.html#输出格式"><i class="fa fa-check"></i><b>3.9</b> 输出格式</a><ul>
<li class="chapter" data-level="3.9.1" data-path="rmarkdown.html"><a href="rmarkdown.html#html格式"><i class="fa fa-check"></i><b>3.9.1</b> HTML格式</a></li>
<li class="chapter" data-level="3.9.2" data-path="rmarkdown.html"><a href="rmarkdown.html#pdf格式"><i class="fa fa-check"></i><b>3.9.2</b> PDF格式</a></li>
<li class="chapter" data-level="3.9.3" data-path="rmarkdown.html"><a href="rmarkdown.html#word格式"><i class="fa fa-check"></i><b>3.9.3</b> Word格式</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="rmarkdown.html"><a href="rmarkdown.html#blogdown"><i class="fa fa-check"></i><b>3.10</b> Blogdown</a></li>
<li class="chapter" data-level="3.11" data-path="rmarkdown.html"><a href="rmarkdown.html#bookdown"><i class="fa fa-check"></i><b>3.11</b> Bookdown</a></li>
<li class="chapter" data-level="3.12" data-path="rmarkdown.html"><a href="rmarkdown.html#presentation"><i class="fa fa-check"></i><b>3.12</b> Presentation</a></li>
<li class="chapter" data-level="3.13" data-path="rmarkdown.html"><a href="rmarkdown.html#pagedown"><i class="fa fa-check"></i><b>3.13</b> Pagedown</a></li>
<li class="chapter" data-level="3.14" data-path="rmarkdown.html"><a href="rmarkdown.html#pkgdown"><i class="fa fa-check"></i><b>3.14</b> Pkgdown</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>4</b> Git和github</a><ul>
<li class="chapter" data-level="4.1" data-path="git.html"><a href="git.html#安装git"><i class="fa fa-check"></i><b>4.1</b> 安装git</a></li>
<li class="chapter" data-level="4.2" data-path="git.html"><a href="git.html#注册github账户"><i class="fa fa-check"></i><b>4.2</b> 注册github账户</a></li>
<li class="chapter" data-level="4.3" data-path="git.html"><a href="git.html#git基础知识"><i class="fa fa-check"></i><b>4.3</b> Git基础知识</a></li>
<li class="chapter" data-level="4.4" data-path="git.html"><a href="git.html#git配制"><i class="fa fa-check"></i><b>4.4</b> Git配制</a><ul>
<li class="chapter" data-level="4.4.1" data-path="git.html"><a href="git.html#安装git之后需要进行一些全局设置比如用户名邮箱."><i class="fa fa-check"></i><b>4.4.1</b> 安装git之后,需要进行一些全局设置,比如用户名邮箱.</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="git.html"><a href="git.html#git基本操作"><i class="fa fa-check"></i><b>4.5</b> Git基本操作</a><ul>
<li class="chapter" data-level="4.5.1" data-path="git.html"><a href="git.html#创建本地git仓库reop"><i class="fa fa-check"></i><b>4.5.1</b> 创建本地git仓库(reop)</a></li>
<li class="chapter" data-level="4.5.2" data-path="git.html"><a href="git.html#将文件添加到版本库"><i class="fa fa-check"></i><b>4.5.2</b> 将文件添加到版本库</a></li>
<li class="chapter" data-level="4.5.3" data-path="git.html"><a href="git.html#查看仓库状态"><i class="fa fa-check"></i><b>4.5.3</b> 查看仓库状态</a></li>
<li class="chapter" data-level="4.5.4" data-path="git.html"><a href="git.html#查看仓库中的具体修改"><i class="fa fa-check"></i><b>4.5.4</b> 查看仓库中的具体修改</a></li>
<li class="chapter" data-level="4.5.5" data-path="git.html"><a href="git.html#查看提交的历史记录"><i class="fa fa-check"></i><b>4.5.5</b> 查看提交的历史记录</a></li>
<li class="chapter" data-level="4.5.6" data-path="git.html"><a href="git.html#版本回退"><i class="fa fa-check"></i><b>4.5.6</b> 版本回退</a></li>
<li class="chapter" data-level="4.5.7" data-path="git.html"><a href="git.html#回到未来某个版本"><i class="fa fa-check"></i><b>4.5.7</b> 回到未来某个版本</a></li>
<li class="chapter" data-level="4.5.8" data-path="git.html"><a href="git.html#撤销修改"><i class="fa fa-check"></i><b>4.5.8</b> 撤销修改</a></li>
<li class="chapter" data-level="4.5.9" data-path="git.html"><a href="git.html#删除文件"><i class="fa fa-check"></i><b>4.5.9</b> 删除文件</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="git.html"><a href="git.html#git的分支管理"><i class="fa fa-check"></i><b>4.6</b> git的分支管理</a><ul>
<li class="chapter" data-level="4.6.1" data-path="git.html"><a href="git.html#查看分支"><i class="fa fa-check"></i><b>4.6.1</b> 查看分支</a></li>
<li class="chapter" data-level="4.6.2" data-path="git.html"><a href="git.html#创建分支"><i class="fa fa-check"></i><b>4.6.2</b> 创建分支</a></li>
<li class="chapter" data-level="4.6.3" data-path="git.html"><a href="git.html#切换分支"><i class="fa fa-check"></i><b>4.6.3</b> 切换分支</a></li>
<li class="chapter" data-level="4.6.4" data-path="git.html"><a href="git.html#switch命令"><i class="fa fa-check"></i><b>4.6.4</b> <code>switch</code>命令</a></li>
<li class="chapter" data-level="4.6.5" data-path="git.html"><a href="git.html#合并分支merge"><i class="fa fa-check"></i><b>4.6.5</b> 合并分支(merge)</a></li>
<li class="chapter" data-level="4.6.6" data-path="git.html"><a href="git.html#删除分支"><i class="fa fa-check"></i><b>4.6.6</b> 删除分支</a></li>
<li class="chapter" data-level="4.6.7" data-path="git.html"><a href="git.html#分支提交冲突"><i class="fa fa-check"></i><b>4.6.7</b> 分支提交冲突</a></li>
<li class="chapter" data-level="4.6.8" data-path="git.html"><a href="git.html#分支策略"><i class="fa fa-check"></i><b>4.6.8</b> 分支策略</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="git.html"><a href="git.html#远程仓库github"><i class="fa fa-check"></i><b>4.7</b> 远程仓库(GitHub)</a><ul>
<li class="chapter" data-level="4.7.1" data-path="git.html"><a href="git.html#添加到远程仓库"><i class="fa fa-check"></i><b>4.7.1</b> 添加到远程仓库</a></li>
<li class="chapter" data-level="4.7.2" data-path="git.html"><a href="git.html#推送到远程仓库"><i class="fa fa-check"></i><b>4.7.2</b> 推送到远程仓库</a></li>
<li class="chapter" data-level="4.7.3" data-path="git.html"><a href="git.html#从远程仓库获取最新内容"><i class="fa fa-check"></i><b>4.7.3</b> 从远程仓库获取最新内容</a></li>
<li class="chapter" data-level="4.7.4" data-path="git.html"><a href="git.html#查看远程仓库信息"><i class="fa fa-check"></i><b>4.7.4</b> 查看远程仓库信息</a></li>
<li class="chapter" data-level="4.7.5" data-path="git.html"><a href="git.html#从远程仓库克隆"><i class="fa fa-check"></i><b>4.7.5</b> 从远程仓库克隆</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="git.html"><a href="git.html#设置忽略文件"><i class="fa fa-check"></i><b>4.8</b> 设置忽略文件</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>5</b> ggplot2学习总结</a></li>
<li class="chapter" data-level="6" data-path="network.html"><a href="network.html"><i class="fa fa-check"></i><b>6</b> Network分析总结</a><ul>
<li class="chapter" data-level="6.1" data-path="network.html"><a href="network.html#example-one"><i class="fa fa-check"></i><b>6.1</b> Example one</a></li>
<li class="chapter" data-level="6.2" data-path="network.html"><a href="network.html#example-two"><i class="fa fa-check"></i><b>6.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="multiomics.html"><a href="multiomics.html"><i class="fa fa-check"></i><b>7</b> 多组学分析</a></li>
<li class="chapter" data-level="8" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>8</b> Tidyverse用于数据分析</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://shenxt.info" target="blank">Find me in my blog</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R cookbook from Xiaotao Shen</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rmarkdown" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Rmarkdown</h1>
<p>Rmarkdown是Rstudio公司出品的.所有markdown的语法都支持.但是加入了很多强大的功能,因此可以做更多原生markdown无法完成的任务.成为数据分析以及报告自动化和重复化领域一个非常常用的工具.</p>
<p>可以参考下面的书,是rmarkdown的作者Yihui Xie写的.</p>
<p><a href="https://bookdown.org/yihui/rmarkdown/installation.html" class="uri">https://bookdown.org/yihui/rmarkdown/installation.html</a></p>
<p>也可以查看这个视频简介.</p>
<iframe src="https://player.vimeo.com/video/178485416?color=428bca&amp;title=0&amp;byline=0&amp;portrait=0" width="640" height="400" frameborder="0" allow="autoplay; fullscreen" allowfullscreen>
</iframe>
<p>
<a href="https://vimeo.com/178485416">What is R Markdown?</a> from <a href="https://vimeo.com/rstudioinc">RStudio, Inc.</a> on <a href="https://vimeo.com">Vimeo</a>.
</p>
<div id="安装" class="section level2">
<h2><span class="header-section-number">3.1</span> 安装</h2>
<p>需要安装R和Rstudio.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb45-1" data-line-number="1">install.packages(&#39;rmarkdown&#39;)</a></code></pre></div>
<p>如果想要转换为PDF格式,需要安装LaTex.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb46-1" data-line-number="1">install.packages(&quot;tinytex&quot;)</a>
<a class="sourceLine" id="cb46-2" data-line-number="2">tinytex::install_tinytex()  # install TinyTeX</a></code></pre></div>
</div>
<div id="rmarkdown结构" class="section level2">
<h2><span class="header-section-number">3.2</span> Rmarkdown结构</h2>
<p>Rmarkdown可以分为三部分,分别是<code>YAML</code>, <code>文本部分</code>以及<code>代码块</code>.</p>
<ol style="list-style-type: decimal">
<li>YAML</li>
</ol>
<p>YAML在每个rmakdown文件的最开头,定义了Markdown文件的很多性质.YAML是指YAin’t Markup Language, <a href="https://en.wikipedia.org/wiki/YAML" class="uri">https://en.wikipedia.org/wiki/YAML</a>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb47-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb47-2" data-line-number="2">title: &quot;Hello R Markdown&quot;</a>
<a class="sourceLine" id="cb47-3" data-line-number="3">author: &quot;Awesome Me&quot;</a>
<a class="sourceLine" id="cb47-4" data-line-number="4">date: &quot;2018-02-14&quot;</a>
<a class="sourceLine" id="cb47-5" data-line-number="5">output: html_document</a>
<a class="sourceLine" id="cb47-6" data-line-number="6">---</a></code></pre></div>
<p>YAML用<code>---</code>包围起来.</p>
<ol start="2" style="list-style-type: decimal">
<li>文本部分</li>
</ol>
<p>YAML下面就是文本部分,其实也就是Markdown.</p>
<ol start="3" style="list-style-type: decimal">
<li>代码块</li>
</ol>
<p>在Rmarkdown中,可以插入可以执行的代码块,不近包括R,还包括pyton,SQL等等.</p>
<p><img src="images/Screen%20Shot%202020-03-13%20at%2010.48.36%20PM.png" /></p>
<p>上图显示的就是一个完整的Rmarkdown文件.</p>
</div>
<div id="yaml" class="section level2">
<h2><span class="header-section-number">3.3</span> YAML</h2>
<p><code>YAML</code>是在Rmakdown中控制很多内容的部分.通过参数设置,可以控制比如输入格式,输出主题等等.</p>
</div>
<div id="r代码块" class="section level2">
<h2><span class="header-section-number">3.4</span> R代码块</h2>
<p>R代码块的格式为:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="bn">```{r}</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb48-3" data-line-number="3"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb48-4" data-line-number="4"><span class="bn">```</span></a></code></pre></div>
<p>可以看到,跟markdown代码块唯一的不同就是需要使用<code>{r}</code>来定义该代码块为R语言.除此之外,可以通过在大括号中设置一系列的参数,来控制代码块的输出.包括文本输出,图片输出以及表格输出等.</p>
<p>比如,可以通过设置<code>result = 'hide'</code>从而使文本结果不输出.也可以通过设置<code>fig.width</code>和<code>fig.height</code>来控制输出图片的宽度和高度.</p>
<p>另外还可以通过<code>eval</code>参数(evaulate)来控制代码块是否执行,如果设置为<code>FALSE</code>,则代码块不会执行.</p>
<p>比如:</p>
<p>下面这段代码就会执行,并输出结果.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="bn">```{r, eval = TRUE}</span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="bn">ggplot(mtcars, aes(x = mpg, y = wt, </span></a>
<a class="sourceLine" id="cb49-4" data-line-number="4"><span class="bn">color = gear)) + </span></a>
<a class="sourceLine" id="cb49-5" data-line-number="5"><span class="bn">geom_point() + theme_bw()</span></a>
<a class="sourceLine" id="cb49-6" data-line-number="6"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> wt, </a>
<a class="sourceLine" id="cb50-3" data-line-number="3"><span class="dt">color =</span> gear)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb50-4" data-line-number="4"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>而这段代码则不会执行</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="bn">```{r, eval = FALSE}</span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="bn">ggplot(mtcars, aes(x = mpg, y = wt, </span></a>
<a class="sourceLine" id="cb51-4" data-line-number="4"><span class="bn">color = gear)) + </span></a>
<a class="sourceLine" id="cb51-5" data-line-number="5"><span class="bn">geom_point() + theme_bw()</span></a>
<a class="sourceLine" id="cb51-6" data-line-number="6"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> wt, </a>
<a class="sourceLine" id="cb52-3" data-line-number="3"><span class="dt">color =</span> gear)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb52-4" data-line-number="4"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()</a></code></pre></div>
</div>
<div id="代码块参数-chunk-options" class="section level2">
<h2><span class="header-section-number">3.5</span> 代码块参数 (Chunk options)</h2>
<p>代码块有非常多的参数(chunk options),常用的总结如下,完整的可以在yihui xie的博客中.</p>
<p><a href="https://yihui.org/knitr/options/" class="uri">https://yihui.org/knitr/options/</a></p>
<div id="代码是否执行" class="section level3">
<h3><span class="header-section-number">3.5.1</span> 代码是否执行</h3>
<ul>
<li><code>eval</code>:设置为TRUE或者FALSE来控制代码块是否执行.</li>
</ul>
<p>###文本输出结果</p>
<ul>
<li><p><code>echo</code>:设置为TRUE或者FALSE,控制代码块是否显示在最终的渲染结果中.</p></li>
<li><p><code>results</code>:</p>
<ul>
<li><p><code>markup</code>:mark up the results using the output hook, e.g. put results in a special LaTeX environment.</p></li>
<li><p><code>asis</code>:将R原始结果输出到最终文本中.</p></li>
<li><code>hide</code>:隐藏R执行结果,但是对error,message和warning没有作用.</li>
</ul></li>
<li><p><code>collapse</code>:设置为TRUE或者FALSE.用来控制文本输出结果是否和代码块混在一起.</p></li>
<li><p><code>warning</code>:设置为TRUE或者FALSE.如果代码执行,是否显示其中的warning信息.</p></li>
<li><p><code>error</code>:设置为TRUE或者FALSE.如果设置为TRUE,即使代码执行出现错误,仍然会输出渲染结果,如果设置为FALSE,代码执行错误,则渲染也会出错,不会在继续输出结果.</p></li>
<li><p>‘message’: 设置为TRUE或者FALSE.代码执行时是否输出message信息.</p></li>
<li><p><code>include</code>:是否将代码输出结果显示在最终的渲染输出文本中.</p></li>
</ul>
<p>显示代码和输出结果:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, include = TRUE}</span></a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb53-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb53-4" data-line-number="4"></a>
<a class="sourceLine" id="cb53-5" data-line-number="5"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb53-6" data-line-number="6"><span class="bn">ggplot(aes(x = gear, cyl)) + </span></a>
<a class="sourceLine" id="cb53-7" data-line-number="7"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb53-8" data-line-number="8"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb53-9" data-line-number="9"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb54-3" data-line-number="3"></a>
<a class="sourceLine" id="cb54-4" data-line-number="4">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb54-5" data-line-number="5"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gear, cyl)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb54-6" data-line-number="6"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb54-7" data-line-number="7"><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>显示代码不显示输出结果:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, include = FALSE}</span></a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"></a>
<a class="sourceLine" id="cb55-5" data-line-number="5"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb55-6" data-line-number="6"><span class="bn">ggplot(aes(x = gear, cyl)) + </span></a>
<a class="sourceLine" id="cb55-7" data-line-number="7"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb55-8" data-line-number="8"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb55-9" data-line-number="9"><span class="bn">```</span></a></code></pre></div>
<ul>
<li><code>strip.white</code>:设置为TRUE或者FALSE.是否输出在最终输出渲染结果中代码块上下的白线.</li>
</ul>
<div class="sourceCode" id="cb56"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="bn">```{r, eval = FALSE, strip.white = TRUE}</span></a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb56-4" data-line-number="4"></a>
<a class="sourceLine" id="cb56-5" data-line-number="5"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb56-6" data-line-number="6"><span class="bn">ggplot(aes(x = gear, cyl)) + </span></a>
<a class="sourceLine" id="cb56-7" data-line-number="7"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb56-8" data-line-number="8"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb56-9" data-line-number="9"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb57-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb57-3" data-line-number="3"></a>
<a class="sourceLine" id="cb57-4" data-line-number="4">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb57-5" data-line-number="5"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gear, cyl)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb57-6" data-line-number="6"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb57-7" data-line-number="7"><span class="kw">theme_bw</span>()</a></code></pre></div>
<div class="sourceCode" id="cb58"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="bn">```{r, eval = FALSE, strip.white = FALSE}</span></a>
<a class="sourceLine" id="cb58-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb58-4" data-line-number="4"></a>
<a class="sourceLine" id="cb58-5" data-line-number="5"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb58-6" data-line-number="6"><span class="bn">ggplot(aes(x = gear, cyl)) + </span></a>
<a class="sourceLine" id="cb58-7" data-line-number="7"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb58-8" data-line-number="8"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb58-9" data-line-number="9"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb59-3" data-line-number="3"></a>
<a class="sourceLine" id="cb59-4" data-line-number="4">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-5" data-line-number="5"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gear, cyl)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-6" data-line-number="6"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-7" data-line-number="7"><span class="kw">theme_bw</span>()</a></code></pre></div>
</div>
<div id="代码控制-code-decoration" class="section level3">
<h3><span class="header-section-number">3.5.2</span> 代码控制 (code decoration)</h3>
<ul>
<li><code>tidy</code>:
<ul>
<li><code>TRUE</code>:使用<code>formatR</code>对代码格式进行整理.</li>
<li><code>FALSE</code>:保持原格式.</li>
<li><code>styler</code>:使用<code>styler</code>包对代码格式进行整理.</li>
</ul></li>
<li><p><code>comment</code>:默认为<code>##</code>,表示对于R代码输出的文本结果前面会有<code>##</code>进行注释.</p></li>
<li><p><code>highlight</code>:逻辑值.是否对代码进行高亮.</p></li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="bn">```{r, eval = FALSE, highlight = TRUE}</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb60-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb60-4" data-line-number="4"></a>
<a class="sourceLine" id="cb60-5" data-line-number="5"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb60-6" data-line-number="6"><span class="bn">ggplot(aes(x = gear, cyl)) + </span></a>
<a class="sourceLine" id="cb60-7" data-line-number="7"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb60-8" data-line-number="8"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb60-9" data-line-number="9"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb61-3" data-line-number="3"></a>
<a class="sourceLine" id="cb61-4" data-line-number="4">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb61-5" data-line-number="5"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gear, cyl)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb61-6" data-line-number="6"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb61-7" data-line-number="7"><span class="kw">theme_bw</span>()</a></code></pre></div>
</div>
<div id="缓冲-cache" class="section level3">
<h3><span class="header-section-number">3.5.3</span> 缓冲 (cache)</h3>
<p><code>cache</code>:逻辑值.是否需要缓冲代码块运行结果,对于代码运行时间比较长的rmakdown文件,可以设置为TRUE,这样重新渲染的时候,会减少运行时间.</p>
<p><code>cache.path</code>:默认为’cache/’,设置如果缓冲为TRUE时,缓冲结果存储的文件夹位置.</p>
</div>
<div id="图像控制plot" class="section level3">
<h3><span class="header-section-number">3.5.4</span> 图像控制(plot)</h3>
<ul>
<li><p><code>fig.path</code>:默认为’figure/’,用来设置生成figure的存储位置.</p></li>
<li><p><code>fig.show</code>:如何显示plot.</p>
<ul>
<li><p><code>asis</code>: plot在产生他们的代码后面.</p></li>
<li><p><code>hold</code>:所有代码产生的图片都放在一个完整的代码块之后.</p></li>
<li><p><code>animate</code>: 将所有产生的图片合成一个动画图片.</p></li>
<li><p><code>hide</code>:产生所有图片,但是并不展示.</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb62"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, fig.show = &#39;asis&#39;}</span></a>
<a class="sourceLine" id="cb62-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb62-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb62-4" data-line-number="4"><span class="bn">library(ggsci)</span></a>
<a class="sourceLine" id="cb62-5" data-line-number="5"><span class="bn">#plot1 </span></a>
<a class="sourceLine" id="cb62-6" data-line-number="6"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb62-7" data-line-number="7"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb62-8" data-line-number="8"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb62-9" data-line-number="9"><span class="bn">ggsci::scale_color_aaas() +</span></a>
<a class="sourceLine" id="cb62-10" data-line-number="10"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb62-11" data-line-number="11"></a>
<a class="sourceLine" id="cb62-12" data-line-number="12"><span class="bn">#plot2</span></a>
<a class="sourceLine" id="cb62-13" data-line-number="13"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb62-14" data-line-number="14"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb62-15" data-line-number="15"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb62-16" data-line-number="16"><span class="bn">ggsci::scale_color_ucscgb() +</span></a>
<a class="sourceLine" id="cb62-17" data-line-number="17"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb62-18" data-line-number="18"></a>
<a class="sourceLine" id="cb62-19" data-line-number="19"><span class="bn">#plot3</span></a>
<a class="sourceLine" id="cb62-20" data-line-number="20"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb62-21" data-line-number="21"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb62-22" data-line-number="22"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb62-23" data-line-number="23"><span class="bn">ggsci::scale_color_igv() +</span></a>
<a class="sourceLine" id="cb62-24" data-line-number="24"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb62-25" data-line-number="25"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb63-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb63-3" data-line-number="3"><span class="kw">library</span>(ggsci)</a>
<a class="sourceLine" id="cb63-4" data-line-number="4"><span class="co">#plot1 </span></a>
<a class="sourceLine" id="cb63-5" data-line-number="5">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb63-6" data-line-number="6"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb63-7" data-line-number="7"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb63-8" data-line-number="8">ggsci<span class="op">::</span><span class="kw">scale_color_aaas</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb63-9" data-line-number="9"><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="co">#plot2</span></a>
<a class="sourceLine" id="cb64-2" data-line-number="2">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-4" data-line-number="4"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-5" data-line-number="5">ggsci<span class="op">::</span><span class="kw">scale_color_ucscgb</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb64-6" data-line-number="6"><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="co">#plot3</span></a>
<a class="sourceLine" id="cb65-2" data-line-number="2">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-5" data-line-number="5">ggsci<span class="op">::</span><span class="kw">scale_color_igv</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb65-6" data-line-number="6"><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-12-3.png" width="672" /></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, fig.show = &#39;hold&#39;}</span></a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb66-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb66-4" data-line-number="4"><span class="bn">library(ggsci)</span></a>
<a class="sourceLine" id="cb66-5" data-line-number="5"><span class="bn">#plot1 </span></a>
<a class="sourceLine" id="cb66-6" data-line-number="6"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb66-7" data-line-number="7"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb66-8" data-line-number="8"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb66-9" data-line-number="9"><span class="bn">ggsci::scale_color_aaas() +</span></a>
<a class="sourceLine" id="cb66-10" data-line-number="10"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb66-11" data-line-number="11"></a>
<a class="sourceLine" id="cb66-12" data-line-number="12"><span class="bn">#plot2</span></a>
<a class="sourceLine" id="cb66-13" data-line-number="13"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb66-14" data-line-number="14"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb66-15" data-line-number="15"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb66-16" data-line-number="16"><span class="bn">ggsci::scale_color_ucscgb() +</span></a>
<a class="sourceLine" id="cb66-17" data-line-number="17"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb66-18" data-line-number="18"></a>
<a class="sourceLine" id="cb66-19" data-line-number="19"><span class="bn">#plot3</span></a>
<a class="sourceLine" id="cb66-20" data-line-number="20"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb66-21" data-line-number="21"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb66-22" data-line-number="22"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb66-23" data-line-number="23"><span class="bn">ggsci::scale_color_igv() +</span></a>
<a class="sourceLine" id="cb66-24" data-line-number="24"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb66-25" data-line-number="25"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb67-3" data-line-number="3"><span class="kw">library</span>(ggsci)</a>
<a class="sourceLine" id="cb67-4" data-line-number="4"><span class="co">#plot1 </span></a>
<a class="sourceLine" id="cb67-5" data-line-number="5">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-6" data-line-number="6"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-7" data-line-number="7"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-8" data-line-number="8">ggsci<span class="op">::</span><span class="kw">scale_color_aaas</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb67-9" data-line-number="9"><span class="kw">theme_bw</span>()</a>
<a class="sourceLine" id="cb67-10" data-line-number="10"></a>
<a class="sourceLine" id="cb67-11" data-line-number="11"><span class="co">#plot2</span></a>
<a class="sourceLine" id="cb67-12" data-line-number="12">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-13" data-line-number="13"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-14" data-line-number="14"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-15" data-line-number="15">ggsci<span class="op">::</span><span class="kw">scale_color_ucscgb</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb67-16" data-line-number="16"><span class="kw">theme_bw</span>()</a>
<a class="sourceLine" id="cb67-17" data-line-number="17"></a>
<a class="sourceLine" id="cb67-18" data-line-number="18"><span class="co">#plot3</span></a>
<a class="sourceLine" id="cb67-19" data-line-number="19">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-20" data-line-number="20"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-21" data-line-number="21"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-22" data-line-number="22">ggsci<span class="op">::</span><span class="kw">scale_color_igv</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb67-23" data-line-number="23"><span class="kw">theme_bw</span>()</a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-13-1.png" width="672" /><img src="r_cookbook_files/figure-html/unnamed-chunk-13-2.png" width="672" /><img src="r_cookbook_files/figure-html/unnamed-chunk-13-3.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, fig.show = &#39;animate&#39;}</span></a>
<a class="sourceLine" id="cb68-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb68-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb68-4" data-line-number="4"><span class="bn">library(ggsci)</span></a>
<a class="sourceLine" id="cb68-5" data-line-number="5"><span class="bn">#plot1 </span></a>
<a class="sourceLine" id="cb68-6" data-line-number="6"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb68-7" data-line-number="7"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb68-8" data-line-number="8"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb68-9" data-line-number="9"><span class="bn">ggsci::scale_color_aaas() +</span></a>
<a class="sourceLine" id="cb68-10" data-line-number="10"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb68-11" data-line-number="11"></a>
<a class="sourceLine" id="cb68-12" data-line-number="12"><span class="bn">#plot2</span></a>
<a class="sourceLine" id="cb68-13" data-line-number="13"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb68-14" data-line-number="14"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb68-15" data-line-number="15"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb68-16" data-line-number="16"><span class="bn">ggsci::scale_color_ucscgb() +</span></a>
<a class="sourceLine" id="cb68-17" data-line-number="17"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb68-18" data-line-number="18"></a>
<a class="sourceLine" id="cb68-19" data-line-number="19"><span class="bn">#plot3</span></a>
<a class="sourceLine" id="cb68-20" data-line-number="20"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb68-21" data-line-number="21"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb68-22" data-line-number="22"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb68-23" data-line-number="23"><span class="bn">ggsci::scale_color_igv() +</span></a>
<a class="sourceLine" id="cb68-24" data-line-number="24"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb68-25" data-line-number="25"><span class="bn">```</span></a></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb69-3" data-line-number="3"><span class="kw">library</span>(ggsci)</a>
<a class="sourceLine" id="cb69-4" data-line-number="4"><span class="co">#plot1 </span></a>
<a class="sourceLine" id="cb69-5" data-line-number="5">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-6" data-line-number="6"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-7" data-line-number="7"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-8" data-line-number="8">ggsci<span class="op">::</span><span class="kw">scale_color_aaas</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb69-9" data-line-number="9"><span class="kw">theme_bw</span>()</a></code></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="co">#plot2</span></a>
<a class="sourceLine" id="cb70-2" data-line-number="2">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-4" data-line-number="4"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-5" data-line-number="5">ggsci<span class="op">::</span><span class="kw">scale_color_ucscgb</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb70-6" data-line-number="6"><span class="kw">theme_bw</span>()</a></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="co">#plot3</span></a>
<a class="sourceLine" id="cb71-2" data-line-number="2">mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mpg, <span class="dt">y =</span> disp, <span class="dt">color =</span> <span class="kw">as.character</span>(gear))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-4" data-line-number="4"><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-5" data-line-number="5">ggsci<span class="op">::</span><span class="kw">scale_color_igv</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb71-6" data-line-number="6"><span class="kw">theme_bw</span>()</a></code></pre></div>
<video width="672"  controls loop>
<source src="r_cookbook_files/figure-html/unnamed-chunk-14.webm" />
</video>
<ul>
<li><p><code>dpi</code>:输出图片dpi,默认72.(dpi * inches = pixels)</p></li>
<li><p><code>fig.width</code>和<code>fig.height</code>:输出图片宽度和高度,默认为7(单位英寸).</p></li>
<li><p><code>fig.asp</code>:图片的高宽比.默认为NULL.如果设置为数值,比如设置为0.7.则<code>fig.height</code>会被覆盖,然后设置为fig.width*fig.asp.</p></li>
<li><p><code>out.width</code>和<code>out.height</code>:默认为NULL.可以设置为<code>100%</code>,这样在最终的渲染结果中就是和页面宽度一致.</p></li>
<li><p><code>fig.align</code>:图片的align位置.默认为<code>left</code>,可以为<code>right</code>或者<code>center</code>.</p></li>
<li><p><code>fig.cap</code>:图片标题.设置为NA或者NULL,则没有.</p></li>
<li><p><code>fig.subcap</code>:图片副标题.</p></li>
</ul>
</div>
</div>
<div id="全局代码块参数" class="section level2">
<h2><span class="header-section-number">3.6</span> 全局代码块参数</h2>
<p>如果某些代码块参数在全局中都是一样的,可以在全局进行设置.</p>
<p>在YAML下以及所有的markdown文本之上,插入下列代码块.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="bn">```{r, include = FALSE}</span></a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="bn">knitr::opts_chunk$set(fig.width = 8, collapse = TRUE)</span></a>
<a class="sourceLine" id="cb72-3" data-line-number="3"><span class="bn">```</span></a></code></pre></div>
<p>使用的是<code>knitr</code>包中的<code>opts_chunk$set()</code>函数.可以将比较常见常用的代码块设置在这里进行设置.这里就是全局的设置.</p>
</div>
<div id="具体问题的cookbook" class="section level2">
<h2><span class="header-section-number">3.7</span> 具体问题的cookbook</h2>
<ol style="list-style-type: decimal">
<li>输出两幅图,并且并列排布</li>
</ol>
<p>结合代码块参数<code>fig.show</code>(设置为<code>hold</code>)和<code>out.width</code>(设置为<code>50%</code>).</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, fig.show = &#39;hold&#39;, out.width = &#39;50%&#39;}</span></a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="bn">library(ggplot2)</span></a>
<a class="sourceLine" id="cb73-3" data-line-number="3"><span class="bn">library(tidyverse)</span></a>
<a class="sourceLine" id="cb73-4" data-line-number="4"><span class="bn">library(ggsci)</span></a>
<a class="sourceLine" id="cb73-5" data-line-number="5"><span class="bn">#plot1 </span></a>
<a class="sourceLine" id="cb73-6" data-line-number="6"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb73-7" data-line-number="7"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb73-8" data-line-number="8"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb73-9" data-line-number="9"><span class="bn">ggsci::scale_color_aaas() +</span></a>
<a class="sourceLine" id="cb73-10" data-line-number="10"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb73-11" data-line-number="11"></a>
<a class="sourceLine" id="cb73-12" data-line-number="12"><span class="bn">#plot2</span></a>
<a class="sourceLine" id="cb73-13" data-line-number="13"><span class="bn">mtcars %&gt;% </span></a>
<a class="sourceLine" id="cb73-14" data-line-number="14"><span class="bn">ggplot(aes(x = mpg, y = disp, color = as.character(gear))) + </span></a>
<a class="sourceLine" id="cb73-15" data-line-number="15"><span class="bn">geom_point() + </span></a>
<a class="sourceLine" id="cb73-16" data-line-number="16"><span class="bn">ggsci::scale_color_ucscgb() +</span></a>
<a class="sourceLine" id="cb73-17" data-line-number="17"><span class="bn">theme_bw()</span></a>
<a class="sourceLine" id="cb73-18" data-line-number="18"><span class="bn">```</span></a></code></pre></div>
<p><img src="r_cookbook_files/figure-html/unnamed-chunk-15-1.png" width="50%" /><img src="r_cookbook_files/figure-html/unnamed-chunk-15-2.png" width="50%" /></p>
</div>
<div id="rmarkdown特有语法" class="section level2">
<h2><span class="header-section-number">3.8</span> Rmarkdown特有语法</h2>
<p>Rmarkdown相比markdown来说,因为可以直接运行代码,因此有一些特有的语法,比如插入图片等.</p>
<div id="图片-image-1" class="section level3">
<h3><span class="header-section-number">3.8.1</span> 图片 (image)</h3>
<p>使用<code>knitr::include_graphics()</code>函数可以直接插入图片,然后使用代码块参数可以对图片进行设置,宽度高度,对齐等等.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="bn">```{r, eval = TRUE, fig.show = &#39;hold&#39;, out.width = &#39;50%&#39;, fig.align = &#39;center&#39;, fig.cap = &quot;小涛&quot;}</span></a>
<a class="sourceLine" id="cb74-2" data-line-number="2"><span class="bn">knitr::include_graphics(&#39;images/Screen Shot 2020-03-13 at 10.48.36 PM.png&#39;)</span></a>
<a class="sourceLine" id="cb74-3" data-line-number="3"><span class="bn">```</span></a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-16"></span>
<img src="images/wechat_QR.jpg" alt="小涛" width="50%" />
<p class="caption">
Figure 3.1: 小涛
</p>
</div>
</div>
<div id="表格-table" class="section level3">
<h3><span class="header-section-number">3.8.2</span> 表格 (Table)</h3>
<ul>
<li><code>knitr::ktable()</code>函数</li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="bn">```{r, eval = TRUE}</span></a>
<a class="sourceLine" id="cb75-2" data-line-number="2"><span class="bn">knitr::kable(iris[1:5, ], caption = &#39;A caption&#39;)</span></a>
<a class="sourceLine" id="cb75-3" data-line-number="3"><span class="bn">```</span></a></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-17">Table 3.1: </span>A caption</caption>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p>该函数又很多参数可以用来控制输出表格的格式,具体的可以参考帮助文档.也可以参考下面的帖子:</p>
<p><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html" class="uri">https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html</a></p>
</div>
<div id="地图-map" class="section level3">
<h3><span class="header-section-number">3.8.3</span> 地图 (map)</h3>
<p>使用<code>leaflet</code>包可以插入地图.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb76-1" data-line-number="1"><span class="bn">```{r out.width=&#39;100%&#39;, echo=FALSE}</span></a>
<a class="sourceLine" id="cb76-2" data-line-number="2"><span class="bn">library(leaflet)</span></a>
<a class="sourceLine" id="cb76-3" data-line-number="3"><span class="bn">leaflet() %&gt;% addTiles() %&gt;%</span></a>
<a class="sourceLine" id="cb76-4" data-line-number="4"><span class="bn">  setView(-93.65, 42.0285, zoom = 17) %&gt;%</span></a>
<a class="sourceLine" id="cb76-5" data-line-number="5"><span class="bn">  addPopups(</span></a>
<a class="sourceLine" id="cb76-6" data-line-number="6"><span class="bn">    -93.65, 42.0285,</span></a>
<a class="sourceLine" id="cb76-7" data-line-number="7"><span class="bn">    &#39;Here is the &lt;b&gt;Department of Statistics&lt;/b&gt;, ISU&#39;</span></a>
<a class="sourceLine" id="cb76-8" data-line-number="8"><span class="bn">  )</span></a>
<a class="sourceLine" id="cb76-9" data-line-number="9"><span class="bn">```</span></a></code></pre></div>
<div id="htmlwidget-9b13cead3bcac7e1e534" style="width:100%;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-9b13cead3bcac7e1e534">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addPopups","args":[37.432748,-122.176758,"Here is the <b>Snyder lab<\/b>, Stanford University",null,null,{"maxWidth":300,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"className":""}]}],"setView":[[37.432748,-122.176758],17,[]],"limits":{"lat":[37.432748,37.432748],"lng":[-122.176758,-122.176758]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="输出格式" class="section level2">
<h2><span class="header-section-number">3.9</span> 输出格式</h2>
<div id="html格式" class="section level3">
<h3><span class="header-section-number">3.9.1</span> HTML格式</h3>
<p>Markdown最最开始就是就是为输出为HTML格式涉及的.在Rmarkdown中,如果想要输出位HTML格式,需要在<code>YAML</code>中将output设置为<code>html_document</code>即可.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb77-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb77-2" data-line-number="2">title: Test</a>
<a class="sourceLine" id="cb77-3" data-line-number="3">author: Xiaotao Shen</a>
<a class="sourceLine" id="cb77-4" data-line-number="4">date: March 22, 2005</a>
<a class="sourceLine" id="cb77-5" data-line-number="5">output: html_document</a>
<a class="sourceLine" id="cb77-6" data-line-number="6">---</a></code></pre></div>
<ol style="list-style-type: decimal">
<li>目录(Table of contents)</li>
</ol>
<p>想要给文章设置目录,可以在<code>html_document</code>下设置<code>toc</code>参数,同时也可以设置<code>toc_depth</code>来设置几级目录.</p>
<p>比如下面的例子:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb78-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb78-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb78-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb78-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb78-5" data-line-number="5"><span class="bn">    toc: true</span></a>
<a class="sourceLine" id="cb78-6" data-line-number="6"><span class="bn">    toc_depth: 2</span></a>
<a class="sourceLine" id="cb78-7" data-line-number="7">---</a></code></pre></div>
<p>如果想要让目录浮在页面上,可以设置<code>toc_float</code>参数.比如下面的例子:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb79-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb79-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb79-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb79-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb79-5" data-line-number="5"><span class="bn">    toc: true</span></a>
<a class="sourceLine" id="cb79-6" data-line-number="6"><span class="bn">    toc_float: true</span></a>
<a class="sourceLine" id="cb79-7" data-line-number="7">---</a></code></pre></div>
<p>同时<code>toc_float</code>参数还有自己的参数可以进行设置.</p>
<ul>
<li><p><code>collapsed</code>:逻辑值.控制目录是否可以进行折叠.</p></li>
<li><p><code>smooth_scroll</code>:逻辑值.controls whether page scrolls are animated when TOC items are navigated to via mouse clicks.</p></li>
</ul>
<p>例如:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb80-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb80-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb80-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb80-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb80-5" data-line-number="5"><span class="bn">    toc: true</span></a>
<a class="sourceLine" id="cb80-6" data-line-number="6"><span class="bn">    toc_float:</span></a>
<a class="sourceLine" id="cb80-7" data-line-number="7"><span class="bn">      collapsed: false</span></a>
<a class="sourceLine" id="cb80-8" data-line-number="8"><span class="bn">      smooth_scroll: false</span></a>
<a class="sourceLine" id="cb80-9" data-line-number="9">---</a></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>标题编号(Section numbering)</li>
</ol>
<p>可以使用<code>number_sections</code>参数来控制标题的编号.</p>
<p>例如:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb81-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb81-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb81-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb81-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb81-5" data-line-number="5"><span class="bn">    toc: true</span></a>
<a class="sourceLine" id="cb81-6" data-line-number="6"><span class="bn">    number_sections: true</span></a>
<a class="sourceLine" id="cb81-7" data-line-number="7">---</a></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>外观和风格</li>
</ol>
<p>有几个参数可以来控制HTML document的外观.</p>
<ul>
<li><p><code>theme</code>参数可以用来控制HTML document的外观和主题.来自于<a href="https://bootswatch.com/3/cosmo/">Bootswatch</a>.可以选择的主题包括以下几项:
<code>default</code>, <code>cerulean</code>, <code>journal</code>, <code>flatly</code>, <code>darkly</code>, <code>readable</code>, <code>spacelab</code>, <code>united</code>, <code>cosmo</code>, <code>lumen</code>, <code>paper</code>, <code>sandstone</code>, <code>simplex</code>, and <code>yeti</code>.可以点击到网站中去查看几种主题的外观.</p></li>
<li><p><code>highlight</code>用来控制语法高亮的风格.包括以下几种:
<code>default</code>, <code>tango</code>, <code>pygments</code>, <code>kate</code>, <code>monochrome</code>, <code>espresso</code>, <code>zenburn</code>, <code>haddock</code>, <code>breezedark</code>, and <code>textmate</code>.</p></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>表格打印</li>
</ol>
<p>可以使用<code>df_print</code>参数来控制表格打印的风格.在R代码块中的数据框直接显示的风格.</p>
<ul>
<li><p><code>default</code>: 使用R中<code>print.data.frame</code>方法.</p></li>
<li><p><code>kable</code>: 使用<code>knitr::kable</code>函数.</p></li>
<li><p><code>tibble</code>: 使用<code>tibble::print.tbl_df</code>函数,</p></li>
<li><p><code>paged</code>:使用<code>rmarkdown::paged_table</code>函数.</p></li>
</ul>
<div class="sourceCode" id="cb82"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb82-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb82-2" data-line-number="2">title: &quot;Motor Trend Car Road Tests&quot;</a>
<a class="sourceLine" id="cb82-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb82-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb82-5" data-line-number="5"><span class="bn">    df_print: default</span></a>
<a class="sourceLine" id="cb82-6" data-line-number="6">---</a>
<a class="sourceLine" id="cb82-7" data-line-number="7"></a>
<a class="sourceLine" id="cb82-8" data-line-number="8"><span class="bn">```{r}</span></a>
<a class="sourceLine" id="cb82-9" data-line-number="9"><span class="bn">mtcars</span></a>
<a class="sourceLine" id="cb82-10" data-line-number="10"><span class="bn">```</span></a></code></pre></div>
<p>显示结果如下:</p>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2010.13.12%20PM.png" /></p>
<p>如果设置为<code>kable</code>:</p>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2010.16.32%20PM.png" /></p>
<p>如果设置为<code>paged</code>:</p>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2010.19.57%20PM.png" /></p>
<ol start="5" style="list-style-type: decimal">
<li>代码折叠</li>
</ol>
<p>可以通过设置<code>code_folding</code>为<code>hide</code>,这样所有的代码默认都是折叠的,然后用户可以通过点击按钮显示某个代码块.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb83-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb83-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb83-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb83-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb83-5" data-line-number="5"><span class="bn">    code_folding: hide</span></a>
<a class="sourceLine" id="cb83-6" data-line-number="6">---</a></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>其他一些高级设置</li>
</ol>
<ul>
<li>通过使用<code>includes</code>参数,可以在rmarkdown的某些位置加入一些自己设计好的HTML元素.</li>
</ul>
<div class="sourceCode" id="cb84"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb84-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb84-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb84-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb84-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb84-5" data-line-number="5"><span class="bn">    includes:</span></a>
<a class="sourceLine" id="cb84-6" data-line-number="6"><span class="bn">      in_header: header.html</span></a>
<a class="sourceLine" id="cb84-7" data-line-number="7"><span class="bn">      before_body: doc_prefix.html</span></a>
<a class="sourceLine" id="cb84-8" data-line-number="8"><span class="bn">      after_body: doc_suffix.html</span></a>
<a class="sourceLine" id="cb84-9" data-line-number="9">---</a></code></pre></div>
<ul>
<li>自定义主题</li>
</ul>
<p>如果对HTML比较熟悉,可以使用自己的主题.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb85-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb85-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb85-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb85-4" data-line-number="4">  html_document:</a>
<a class="sourceLine" id="cb85-5" data-line-number="5"><span class="bn">    template: quarterly_report.html</span></a>
<a class="sourceLine" id="cb85-6" data-line-number="6">---</a></code></pre></div>
</div>
<div id="pdf格式" class="section level3">
<h3><span class="header-section-number">3.9.2</span> PDF格式</h3>
<p>Rmarkdown也可以输出为PDF格式的文档.设置output为<code>pdf_document</code>.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb86-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb86-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb86-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb86-4" data-line-number="4">  pdf_document:</a>
<a class="sourceLine" id="cb86-5" data-line-number="5"><span class="bn">    highlight: tango</span></a>
<a class="sourceLine" id="cb86-6" data-line-number="6">---</a></code></pre></div>
<p>PDF格式的目录,图片设置,数据框打印,语法高亮都跟HTML相同.</p>
</div>
<div id="word格式" class="section level3">
<h3><span class="header-section-number">3.9.3</span> Word格式</h3>
<p>也可以输出为word格式,设置output为<code>word_document</code>.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb87-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb87-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb87-3" data-line-number="3">author: John Doe</a>
<a class="sourceLine" id="cb87-4" data-line-number="4">date: March 22, 2005</a>
<a class="sourceLine" id="cb87-5" data-line-number="5">output: word_document</a>
<a class="sourceLine" id="cb87-6" data-line-number="6">---</a></code></pre></div>
<p>word的格式可以使用默认的格式,当然也可以自己进行设置.设置好格式之后,使用<code>reference_docx</code>参数进行设置.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb88-1" data-line-number="1">---</a>
<a class="sourceLine" id="cb88-2" data-line-number="2">title: &quot;Habits&quot;</a>
<a class="sourceLine" id="cb88-3" data-line-number="3">output:</a>
<a class="sourceLine" id="cb88-4" data-line-number="4">  word_document:</a>
<a class="sourceLine" id="cb88-5" data-line-number="5"><span class="bn">    reference_docx: my-styles.docx</span></a>
<a class="sourceLine" id="cb88-6" data-line-number="6">---</a></code></pre></div>
<p>如何设置格式文件,可以参考下面文章:</p>
<p><a href="https://rmarkdown.rstudio.com/articles_docx.html" class="uri">https://rmarkdown.rstudio.com/articles_docx.html</a></p>
<p>或者看下面的视频:</p>
<iframe src="https://player.vimeo.com/video/110804387" width="640" height="400" frameborder="0" allow="autoplay; fullscreen" allowfullscreen>
</iframe>
<p>
<a href="https://vimeo.com/110804387">Create A MS Word Template for R Markdown</a> from <a href="https://vimeo.com/yihui">Yihui Xie</a> on <a href="https://vimeo.com">Vimeo</a>.
</p>
</div>
</div>
<div id="blogdown" class="section level2">
<h2><span class="header-section-number">3.10</span> Blogdown</h2>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2010.52.48%20PM.png" /></p>
</div>
<div id="bookdown" class="section level2">
<h2><span class="header-section-number">3.11</span> Bookdown</h2>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2010.54.49%20PM.png" /></p>
</div>
<div id="presentation" class="section level2">
<h2><span class="header-section-number">3.12</span> Presentation</h2>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2011.00.46%20PM.png" /></p>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2011.01.20%20PM.png" /></p>
</div>
<div id="pagedown" class="section level2">
<h2><span class="header-section-number">3.13</span> Pagedown</h2>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2011.03.05%20PM.png" /></p>
</div>
<div id="pkgdown" class="section level2">
<h2><span class="header-section-number">3.14</span> Pkgdown</h2>
<p><img src="images/Screen%20Shot%202020-03-14%20at%2011.03.59%20PM.png" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="markdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="git.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r_cookbook.pdf", "r_cookbook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
